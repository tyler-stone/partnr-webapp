<toasts></toasts>
<div class="content-container" ng-show="loadComplete">
    <h2>Edit your profile info</h2>
    <h3>Profile Picture</h3>
    <form>
        <input type="file" onchange="angular.element(this).scope().changeAvatar(this)" accept='image/*' />
    </form>
    <h3>Your name</h3>
    <label for="first_name">First Name</label>
    <input name="first_name" type="text" placeholder="{{user.first_name}}" class="form-control" ng-model="updatedUser.firstName" />
    <label for="last_name">Last Name</label>
    <input name="last_name" type="text" placeholder="{{user.last_name}}" class="form-control" ng-model="updatedUser.lastName" />
    <h3>Your current location</h3>
    <input type="text" class="form-control" ng-model="location" />
    <h3 class="inline">Schools <button class="btn btn-primary" ng-click="schools.addNewItem()">+</button></h3>
    <div class="clearfix">
        <div class="col-md-3" ng-repeat="school in schools.all track by $index">
            <div class="internal-container">
                <label for="school_name">School Name</label>
                <input type="text" name="school_name" class="form-control" ng-model="school.school_name" />
                <label for="grad_year">Graduation Year</label>
                <input type="text" name="grad_year" class="form-control" ng-model="school.grad_year" />
                <label for="major">Major</label>
                <input type="text" name="major" class="form-control" ng-model="school.field" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="schools.deleteExistingItem(school.id)">Delete</button>
                </div>
            </div>
        </div>
        <div class="col-md-3" ng-repeat="school in schools.new track by $index">
            <div class="internal-container">
                <label for="school_name">School Name</label>
                <input type="text" name="school_name" class="form-control" ng-model="school.school_name" />
                <label for="grad_year">Graduation Year</label>
                <input type="text" name="grad_year" class="form-control" ng-model="school.grad_year" />
                <label for="major">Major</label>
                <input type="text" name="major" class="form-control" ng-model="school.field" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="schools.deleteNewItem($index)">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <h3 class="inline">Positions <button class="btn btn-primary" ng-click="positions.addNewItem()">+</button></h3>
    <div class="clearfix">
        <div class="col-md-3" ng-repeat="position in positions.all track by $index">
            <div class="internal-container">
                <label for="position_title">Position Title</label>
                <input type="text" name="position_title" class="form-control" ng-model="position.title" />
                <label for="position.company">Company</label>
                <input type="text" name="position.company" class="form-control" ng-model="position.company" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="positions.deleteExistingItem(position.id)">Delete</button>
                </div>
            </div>
        </div>
        <div class="col-md-3" ng-repeat="position in positions.new track by $index">
            <div class="internal-container">
                <label for="position_title">Position Title</label>
                <input type="text" name="position_title" class="form-control" ng-model="position.title" />
                <label for="position.company">Company</label>
                <input type="text" name="position.company" class="form-control" ng-model="position.company" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="positions.deleteNewItem($index)">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <h3 class="inline">Interests <button class="btn btn-primary" ng-click="interests.addNewItem()">+</button></h3>
    <div class="clearfix">
        <div class="col-md-3" ng-repeat="interest in interests.all track by $index">
            <div class="internal-container">
                <label for="interest_title">Name</label>
                <input type="text" name="interest_title" class="form-control" ng-model="interest.title" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="interests.deleteExistingItem(interest.id)">Delete</button>
                </div>
            </div>
        </div>
        <div class="col-md-3" ng-repeat="interest in interests.new track by $index">
            <div class="internal-container">
                <label for="interest_title">Name</label>
                <input type="text" name="interest_title" class="form-control" ng-model="interest.title" />
                <div class="buttons-right">
                    <button type="button" class="btn btn-danger" ng-click="interests.deleteNewItem($index)">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-primary" ng-click="doSave()">Save</button>
</div>
<div ng-hide="loadComplete" class="content-container">
    <div class="text-center loading">
        <img src="/assets/ajax-loader.gif">
    </div>
</div>
